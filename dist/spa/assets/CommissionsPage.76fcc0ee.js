import{_ as P,r as m,c as g,l as f,m as A,q as l,d as o,aG as d,M as F,A as v,n as c,F as O,Q as C,v as x,x as q,aD as k,aE as N}from"./index.84e406f6.js";import{Q as V}from"./QTable.45c07f07.js";import{u as Q}from"./use-quasar.eb8135c3.js";import{Q as I}from"./QSpinnerFacebook.317364b6.js";import{u as B}from"./axios.95677817.js";import"./FileSaver.min.0ff652e7.js";import"./QList.c2d242fe.js";import"./QMarkupTable.f3df12e7.js";import"./QSelect.c660601d.js";import"./format.caa0d1be.js";const b=i=>(k("data-v-bc7ae524"),i=i(),N(),i),E={class:"row q-pt-md q-ml-lg"},U={class:"col-1 comp-size"},$=b(()=>l("p",{style:{color:"#123499"},class:"text-bold"},"From Date",-1)),z={class:"col-1 comp-size"},M=b(()=>l("p",{style:{color:"#123499"},class:"text-bold"},"To Date",-1)),j={class:"col-1 q-ml-lg q-mt-lg"},G={class:"q-ml-md q-mt-sm q-mr-lg q-pa-md"},R={class:"row justify-start items-center"},H=b(()=>l("span",{class:"q-ml-sm"},null,-1)),J={__name:"CommissionsPage",setup(i){const h=B(),s=m(null),n=m(null),u=m(""),r=m(!1),y=m([{name:"customerNumber",required:!0,label:"Customer ID",align:"left",field:a=>a.customer_number,format:a=>`${a}`,sortable:!0},{name:"customerName",label:"Customer Name",field:"customer_name",sortable:!0},{name:"mobileNumber",label:"Mobile Number",field:"mobile_number",sortable:!0},{name:"bankName",label:"Bank Name",field:"bank_name"},{name:"accountNumber",label:"Account Number",field:"account_number"},{name:"ifscCode",label:"IFSC Code",field:"ifsc_code"},{name:"pan",label:"PAN",field:"pan"},{name:"plan",label:"Plan",field:"plan"},{name:"registrationAmount",label:"Registration Amount",field:"registration_amount"},{name:"commissionStartDate",label:"Commission Start Date",field:"commission_start_date",sortable:!0},{name:"commissionEndDate",label:"Commission End Date",field:"commission_end_date",sortable:!0},{name:"levelOneCompletionStatus",label:"Level One Completion Status",field:"level_one_completion_status"},{name:"levelOneCompletionDate",label:"Level One Completion Date",field:"level_one_completion_date"},{name:"levelOneCommissionAmount",label:"Level One Commission Amount",field:"level_one_commission_amount"},{name:"levelOneTdsAmount",label:"Level One TDS Amount (10%)",field:"level_one_tds_amount"},{name:"levelOneAmountPayable",label:"Level One Amount Payable",field:"level_one_amount_payable"},{name:"levelOneCommissionStatus",label:"Level One Commission Status",field:"level_one_commission_status",sortable:!0},{name:"levelOneCommisionPaidDate",label:"Level One Commission Paid Date",field:"level_one_commission_paid_date",sortable:!0},{name:"levelOneCommissionPaymentComments",label:"Level One Commission Payment Comments",field:"level_one_commission_payment_comments"},{name:"levelTwoCompletionStatus",label:"Level Two Completion Status",field:"level_two_completion_status"},{name:"levelTwoCompletionDate",label:"Level Two Completion Date",field:"level_two_completion_date"},{name:"levelTwoCommissionAmount",label:"Level Two Commission Amount",field:"level_two_commission_amount"},{name:"levelTwoTdsAmount",label:"Level Two TDS Amount (10%)",field:"level_two_tds_amount"},{name:"levelTwoAmountPayable",label:"Level Two Amount Payable",field:"level_two_amount_payable"},{name:"levelTwoCommissionStatus",label:"Level Two Commission Status",field:"level_two_commission_status",sortable:!0},{name:"levelTwoCommisionPaidDate",label:"Level Two Commission Paid Date",field:"level_two_commission_paid_date",sortable:!0},{name:"levelTwoCommissionPaymentComments",label:"Level Two Commission Payment Comments",field:"level_two_commission_payment_comments"},{name:"levelThreeCompletionStatus",label:"Level Three Completion Status",field:"level_three_completion_status"},{name:"levelThreeCompletionDate",label:"Level Three Completion Date",field:"level_three_completion_date"},{name:"levelThreeCommissionAmount",label:"Level Three Commission Amount",field:"level_three_commission_amount"},{name:"levelThreeTdsAmount",label:"Level Three TDS Amount (10%)",field:"level_three_tds_amount"},{name:"levelThreeAmountPayable",label:"Level One Amount Payable",field:"level_one_amount_payable"},{name:"levelThreeCommissionStatus",label:"Level Three Commission Status",field:"level_three_commission_status",sortable:!0},{name:"levelThreeCommisionPaidDate",label:"Level Three Commission Paid Date",field:"level_three_commission_paid_date",sortable:!0},{name:"levelThreeCommissionPaymentComments",label:"Level Three Commission Payment Comments",field:"level_three_commission_payment_comments"},{name:"levelFourCompletionStatus",label:"Level Four Completion Status",field:"level_four_completion_status"},{name:"levelFourCompletionDate",label:"Level Four Completion Date",field:"level_four_completion_date"},{name:"levelFourCommissionAmount",label:"Level Four Commission Amount",field:"level_four_commission_amount"},{name:"levelFourTdsAmount",label:"Level Four TDS Amount (10%)",field:"level_four_tds_amount"},{name:"levelFourAmountPayable",label:"Level One Amount Payable",field:"level_one_amount_payable"},{name:"levelFourCommissionStatus",label:"Level Four Commission Status",field:"level_four_commission_status",sortable:!0},{name:"levelFourCommisionPaidDate",label:"Level Four Commission Paid Date",field:"level_four_commission_paid_date",sortable:!0},{name:"levelFourCommissionPaymentComments",label:"Level Four Commission Payment Comments",field:"level_four_commission_payment_comments"}]),p=m([]),_=Q(),T=g(()=>!s.value||!n.value),w=()=>{_.loading.show({spinner:I,spinnerColor:"light-blue",messageColor:"white",backgroundColor:"light-blue",message:""})},D=()=>{_.loading.hide()},L=()=>{if(n.value<s.value){_.notify({message:"Commission From Date should be less than or equal to Commission To Date!!!",type:"warning",position:"top"});return}w();let a={commission_from_date:s.value,commission_to_date:n.value};h.getCommissionDetails(a).then(e=>{p.value=e.data.commissions}).catch(e=>{console.log("err",e)}).finally(()=>{D()})},S=()=>{};return(a,e)=>(f(),A(O,null,[l("div",E,[l("div",U,[$,o(d,{modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),style:{"max-width":"150px"},outlined:"",dense:"",autofocus:"",type:"date"},null,8,["modelValue"])]),l("div",z,[M,o(d,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),style:{"max-width":"150px"},outlined:"",dense:"",autofocus:"",type:"date"},null,8,["modelValue"])]),l("div",j,[o(v,{unelevated:"",color:"primary",label:"Search","no-caps":"",disable:F(T),onClick:L},null,8,["disable"])])]),l("div",G,[o(v,{color:"green",class:"q-mb-md",style:{width:"20px"},"no-caps":"",onClick:S},{default:c(()=>[l("div",R,[o(C,{name:"fas fa-file-excel"}),H])]),_:1}),o(V,{class:"commissions-table",flat:"",bordered:"",title:"Commissions",rows:p.value,columns:y.value,"row-key":"customer_number",filter:u.value},{"top-right":c(()=>[r.value?(f(),x(d,{key:0,filled:"",borderless:"",dense:"",debounce:"300",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),placeholder:"Search"},{append:c(()=>[o(C,{name:"search"})]),_:1},8,["modelValue"])):q("",!0),o(v,{class:"q-ml-sm",icon:"filter_list",onClick:e[3]||(e[3]=t=>r.value=!r.value),flat:""})]),_:1},8,["rows","columns","filter"])])],64))}};var se=P(J,[["__scopeId","data-v-bc7ae524"]]);export{se as default};
